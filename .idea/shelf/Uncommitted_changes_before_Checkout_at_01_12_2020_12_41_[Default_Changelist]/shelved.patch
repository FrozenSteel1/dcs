Index: app/Http/Livewire/MainTable.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nnamespace App\\Http\\Livewire;\r\n\r\nuse App\\Models\\Document;\r\nuse App\\Models\\Worker;\r\nuse Livewire\\Component;\r\nuse Livewire\\WithFileUploads;\r\nuse Livewire\\WithPagination;\r\nuse App\\Models\\Division;\r\n\r\nclass MainTable extends Component\r\n{\r\n\r\n    use WithPagination;\r\n    use WithFileUploads;\r\n\r\n    public $division_name, $division_parent_name, $division_id;\r\n    public $document_name, $document_number, $document_area, $document_id,\r\n        $document_responsible_id, $document_signer_id, $document_tags, $document_date_signing,\r\n        $document_date_expired, $document_data;\r\n    public $worker_name, $worker_surname, $worker_id, $worker_email, $worker_email_spare, $worker_tel\r\n    , $worker_tel_spare, $worker_position, $worker_patronymic;\r\n    public $documents, $divisions;\r\n    public $perPage = 10;\r\n    public $search = '';\r\n    public $searchDivision = '';\r\n    public $orderBy = 'document_number';\r\n    public $orderAsc = true;\r\n    public $updateMode = false;\r\n\r\n\r\n    private function resetInputFields()\r\n    {\r\n        $this->division_name = '';\r\n        $this->division_parent_name = '';\r\n        $this->worker_name='';\r\n        $this->worker_surname='';\r\n        $this->worker_id='';\r\n        $this->worker_email='';\r\n        $this->worker_email_spare='';\r\n        $this->worker_tel='';\r\n        $this->worker_tel_spare='';\r\n        $this->worker_position='';\r\n        $this->worker_patronymic='';\r\n        $this->document_name='';\r\n        $this->document_number='';\r\n        $this->document_area='';\r\n        $this->document_id='';\r\n        $this->document_responsible_id='';\r\n        $this->document_signer_id='';\r\n        $this->document_tags='';\r\n        $this->document_date_signing='';\r\n        $this->document_date_expired='';\r\n        $this->document_data='';\r\n\r\n    }\r\n\r\n    public function storeDocument()\r\n    {\r\n        $validatedDate = $this->validate([\r\n            'document_name' => 'required',\r\n            'document_number' => 'required',\r\n            'document_area' => '',\r\n            'document_data' => '',\r\n            'document_date_expired' => '',\r\n            'document_date_signing' => '',\r\n            'document_tags' => '',\r\n            'document_responsible_id' => '',\r\n            'document_signer_id' => '',\r\n        ]);\r\n\r\n        dd($validatedDate);\r\n        Document::create($validatedDate);\r\n\r\n        session()->flash('message', 'Divisions Created Successfully.');\r\n\r\n        $this->resetInputFields();\r\n\r\n        $this->emit('documentStore'); // Close model to using to jquery\r\n\r\n    }\r\n\r\n    public function storeWorker()\r\n    {\r\n\r\n        $validatedDate = $this->validate([\r\n\r\n            'worker_name' => 'required',\r\n            'worker_surname' => 'required',\r\n            'worker_id' => '',\r\n            'worker_email' => 'email',\r\n            'worker_email_spare' => 'email',\r\n            'worker_tel' => '',\r\n            'worker_tel_spare' => '',\r\n            'worker_position' => '',\r\n            'division_id' => '',\r\n            'worker_patronymic' => '',\r\n\r\n        ]);\r\n\r\n        Worker::create($validatedDate);\r\n\r\n        session()->flash('message', 'Работник успешно добавлен');\r\n\r\n        $this->resetInputFields();\r\n\r\n        $this->emit('workerStore'); // Close model to using to jquery\r\n\r\n    }\r\n\r\n    public function storeDivision()\r\n    {\r\n        $validatedDate = $this->validate([\r\n            'division_name' => 'required',\r\n            'division_parent_name' => 'required',\r\n        ]);\r\n\r\n        Division::create($validatedDate);\r\n\r\n        session()->flash('message', 'Divisions Created Successfully.');\r\n\r\n        $this->resetInputFields();\r\n\r\n        $this->emit('divisionStore'); // Close model to using to jquery\r\n\r\n    }\r\n\r\n    public function edit($id)\r\n    {\r\n\r\n        $this->updateMode = true;\r\n\r\n        $division = Division::where('id', $id)->first();\r\n\r\n        $this->division_id = $id;\r\n        $this->division_name = $division->division_name;\r\n        $this->division_parent_name = $division->division_parent_name;\r\n\r\n    }\r\n\r\n    public function cancel()\r\n    {\r\n        $this->updateMode = false;\r\n        $this->resetInputFields();\r\n\r\n\r\n    }\r\n\r\n    public function update()\r\n    {\r\n        $validatedDate = $this->validate([\r\n            'division_name' => 'required',\r\n            'division_parent_name' => 'required',\r\n        ]);\r\n\r\n        if ($this->division_id) {\r\n            $division = Division::find($this->division_id);\r\n            $division->update([\r\n                'division_name' => $this->division_name,\r\n                'division_parent_name' => $this->division_parent_name,\r\n            ]);\r\n            $this->updateMode = false;\r\n            session()->flash('message', 'Divisions Updated Successfully.');\r\n            $this->resetInputFields();\r\n\r\n        }\r\n    }\r\n\r\n    public function delete($id)\r\n    {\r\n        if ($id) {\r\n            Division::where('id', $id)->delete();\r\n            session()->flash('message', 'Divisions Deleted Successfully.');\r\n        }\r\n    }\r\n\r\n    public function render(): string\r\n    {\r\n\r\n        return view('livewire.main-table', [\r\n            'documents' => Document::search($this->search)\r\n                ->orderBy($this->orderBy, $this->orderAsc ? 'asc' : 'desc')\r\n                ->simplePaginate($this->perPage),\r\n\r\n\r\n        ]);\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/Http/Livewire/MainTable.php	(revision 41cd1271cd9a3fd6c26637641755ac40ab4c5dc9)
+++ app/Http/Livewire/MainTable.php	(date 1606815639272)
@@ -18,10 +18,10 @@
     public $division_name, $division_parent_name, $division_id;
     public $document_name, $document_number, $document_area, $document_id,
         $document_responsible_id, $document_signer_id, $document_tags, $document_date_signing,
-        $document_date_expired, $document_data;
+        $document_date_expired, $document_data ,$document_type;
     public $worker_name, $worker_surname, $worker_id, $worker_email, $worker_email_spare, $worker_tel
     , $worker_tel_spare, $worker_position, $worker_patronymic;
-    public $documents, $divisions;
+    public $documents, $divisions,$workers;
     public $perPage = 10;
     public $search = '';
     public $searchDivision = '';
@@ -53,6 +53,8 @@
         $this->document_date_signing='';
         $this->document_date_expired='';
         $this->document_data='';
+        $this->document_type='';
+
 
     }
 
@@ -63,6 +65,7 @@
             'document_number' => 'required',
             'document_area' => '',
             'document_data' => '',
+            'document_type'=>'',
             'document_date_expired' => '',
             'document_date_signing' => '',
             'document_tags' => '',
@@ -71,6 +74,7 @@
         ]);
 
         dd($validatedDate);
+
         Document::create($validatedDate);
 
         session()->flash('message', 'Divisions Created Successfully.');
@@ -111,10 +115,12 @@
 
     public function storeDivision()
     {
+
         $validatedDate = $this->validate([
-            'division_name' => 'required',
-            'division_parent_name' => 'required',
+            'division_name' => '',
+            'division_parent_name' => '',
         ]);
+        dd($this);
 
         Division::create($validatedDate);
 
@@ -175,13 +181,33 @@
         }
     }
 
+    public function searching()
+    {
+        $this->divisions = Division::where('division_name', 'like', '%' . $this->search . '%')
+
+            ->get()
+            ->toArray();
+    }
+
+    public function searchWorkers()
+    {
+        $this->workers = Worker::where('worker_surname', 'like', '%' . $this->search . '%')
+
+            ->get()
+            ->toArray();
+    }
+
     public function render(): string
     {
+       $this->searching();
+$this->searchWorkers();
 
         return view('livewire.main-table', [
             'documents' => Document::search($this->search)
                 ->orderBy($this->orderBy, $this->orderAsc ? 'asc' : 'desc')
                 ->simplePaginate($this->perPage),
+            'divisions'=>$this->divisions,
+            'workers'=>$this->workers,
 
 
         ]);
Index: app/Models/Document.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nnamespace App\\Models;\r\n\r\nuse Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\n\r\nclass Document extends Model\r\n{\r\n    use HasFactory;\r\n    protected  $guarded=[''];\r\n    public static function search($search)\r\n    {\r\n\r\n        return empty($search) ? static::query()\r\n            : static::query()->where('id', 'like', '%'.$search.'%')\r\n                ->orWhere('document_name', 'like', '%'.$search.'%')\r\n                ->orWhere('document_number', 'like', '%'.$search.'%');\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/Models/Document.php	(revision 41cd1271cd9a3fd6c26637641755ac40ab4c5dc9)
+++ app/Models/Document.php	(date 1606815639297)
@@ -9,6 +9,7 @@
 {
     use HasFactory;
     protected  $guarded=[''];
+
     public static function search($search)
     {
 
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"BranchesTreeState\">\r\n    <expand>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"LOCAL_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"REMOTE_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"REMOTE_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"GROUP_NODE:origin\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n    </expand>\r\n    <select />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"0a19b9ec-637a-429e-b38c-e8af6f257911\" name=\"Default Changelist\" comment=\"Все еще работает)\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ComposerSettings\" doNotAsk=\"true\" synchronizationState=\"SYNCHRONIZE\">\r\n    <pharConfigPath>$PROJECT_DIR$/composer.json</pharConfigPath>\r\n    <execution />\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"Пакостю\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"PhpWorkspaceProjectConfiguration\">\r\n    <include_path>\r\n      <path value=\"$PROJECT_DIR$/vendor/ramsey/collection\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/ramsey/uuid\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/doctrine/inflector\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/doctrine/instantiator\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/doctrine/lexer\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/swiftmailer/swiftmailer\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/tijsverkoyen/css-to-inline-styles\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psy/psysh\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/vlucas/phpdotenv\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/fideloper/proxy\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/laravel/framework\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/laravel/tinker\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/dragonmantank/cron-expression\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/fruitcake/laravel-cors\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/fakerphp/faker\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/myclabs/deep-copy\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/filp/whoops\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psr/http-message\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psr/http-client\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psr/log\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psr/simple-cache\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psr/event-dispatcher\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/psr/container\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpspec/prophecy\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpoption/phpoption\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/asm89/stack-cors\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/league/mime-type-detection\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/league/commonmark\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/league/flysystem\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/brick/math\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/ralouphie/getallheaders\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/monolog/monolog\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/composer\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/nunomaduro/collision\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/dnoegel/php-xdg-base-dir\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/opis/closure\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/graham-campbell/result-type\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/code-unit\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/webmozart/assert\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/cli-parser\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/nikic/php-parser\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/object-enumerator\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/exporter\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/object-reflector\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpdocumentor/type-resolver\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/environment\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpdocumentor/reflection-docblock\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/recursion-context\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpdocumentor/reflection-common\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/comparator\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-php80\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/code-unit-reverse-lookup\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/error-handler\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/complexity\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/http-foundation\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/resource-operations\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/http-client-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/diff\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/routing\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/type\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/event-dispatcher\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/lines-of-code\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/css-selector\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/version\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/translation\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/sebastian/global-state\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/voku/portable-ascii\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-mbstring\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-ctype\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/facade/ignition\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/service-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/facade/ignition-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/mime\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/facade/flare-client-php\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/finder\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/string\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/deprecation-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-intl-idn\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/hamcrest/hamcrest-php\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/process\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/event-dispatcher-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-php72\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/http-kernel\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-php73\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/console\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/translation-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-iconv\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-intl-grapheme\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/var-dumper\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/polyfill-intl-normalizer\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/guzzlehttp/promises\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/guzzlehttp/psr7\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/guzzlehttp/guzzle\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phar-io/version\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phar-io/manifest\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/theseer/tokenizer\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/egulias/email-validator\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/nesbot/carbon\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpunit/php-text-template\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpunit/php-timer\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpunit/php-invoker\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpunit/php-file-iterator\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpunit/php-code-coverage\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/phpunit/phpunit\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/mockery/mockery\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/doctrine/cache\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/doctrine/dbal\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/doctrine/event-manager\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/barryvdh/reflection-docblock\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/barryvdh/laravel-ide-helper\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/seld/jsonlint\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/seld/phar-utils\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/symfony/filesystem\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/react/promise\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/justinrainbow/json-schema\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/livewire/livewire\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/paragonie/constant_time_encoding\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/bacon/bacon-qr-code\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/dasprid/enum\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/laravel/sanctum\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/laravel/fortify\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/laravel/jetstream\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/jaybizzle/crawler-detect\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/jenssegers/agent\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/pragmarx/google2fa\" />\r\n      <path value=\"$PROJECT_DIR$/vendor/mobiledetect/mobiledetectlib\" />\r\n    </include_path>\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"1kPzpUVkzhEYlGjgT5ZhbGTz7tB\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\">\r\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"ASKED_ADD_EXTERNAL_FILES\" value=\"true\" />\r\n    <property name=\"ASKED_SHARE_PROJECT_CONFIGURATION_FILES\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"SHARE_PROJECT_CONFIGURATION_FILES\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$\" />\r\n    <property name=\"vue.rearranger.settings.migration\" value=\"true\" />\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"phpunit.xml\" type=\"PHPUnitRunConfigurationType\" factoryName=\"PHPUnit\">\r\n      <TestRunner scope=\"XML\" />\r\n      <method v=\"2\" />\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"0a19b9ec-637a-429e-b38c-e8af6f257911\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1605617196805</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1605617196805</updated>\r\n      <workItem from=\"1605617197869\" duration=\"20441000\" />\r\n      <workItem from=\"1606134348357\" duration=\"11206000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"Добавил аутентификацию и применил миграции от нее\">\r\n      <created>1605619091224</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1605619091224</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"Сделал добавление дивизионов\">\r\n      <created>1605642423791</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1605642423791</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"Сделал добавление дивизионов\">\r\n      <created>1605642481382</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1605642481382</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"Сделал добавление дивизионов начинаю добавление документов\">\r\n      <created>1606134397728</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1606134397728</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"Создал заполнялку для доков начинаю тестировать выпадающую меню для дивизионов\">\r\n      <created>1606138426154</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1606138426154</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"Все еще работает)\">\r\n      <created>1606144416278</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1606144416278</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"7\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\r\n    <MESSAGE value=\"Добавил аутентификацию и применил миграции от нее\" />\r\n    <MESSAGE value=\"Сделал добавление дивизионов\" />\r\n    <MESSAGE value=\"Сделал добавление дивизионов начинаю добавление документов\" />\r\n    <MESSAGE value=\"Создал заполнялку для доков начинаю тестировать выпадающую меню для дивизионов\" />\r\n    <MESSAGE value=\"Все еще работает)\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"Все еще работает)\" />\r\n  </component>\r\n  <component name=\"WindowStateProjectService\">\r\n    <state x=\"636\" y=\"236\" key=\"#com.intellij.refactoring.safeDelete.UnsafeUsagesDialog\" timestamp=\"1606140409154\">\r\n      <screen x=\"0\" y=\"0\" width=\"1810\" height=\"978\" />\r\n    </state>\r\n    <state x=\"636\" y=\"236\" key=\"#com.intellij.refactoring.safeDelete.UnsafeUsagesDialog/0.0.1810.978@0.0.1810.978\" timestamp=\"1606140409154\" />\r\n    <state x=\"784\" y=\"387\" key=\"Github.ShareDialog\" timestamp=\"1605618276679\">\r\n      <screen x=\"0\" y=\"0\" width=\"1810\" height=\"978\" />\r\n    </state>\r\n    <state x=\"784\" y=\"387\" key=\"Github.ShareDialog/0.0.1810.978@0.0.1810.978\" timestamp=\"1605618276679\" />\r\n    <state x=\"675\" y=\"186\" key=\"Github.UntrackedFilesDialog\" timestamp=\"1605618292840\">\r\n      <screen x=\"0\" y=\"0\" width=\"1810\" height=\"978\" />\r\n    </state>\r\n    <state x=\"675\" y=\"186\" key=\"Github.UntrackedFilesDialog/0.0.1810.978@0.0.1810.978\" timestamp=\"1605618292840\" />\r\n    <state x=\"740\" y=\"413\" key=\"NewPhpFileDialog\" timestamp=\"1605630147257\">\r\n      <screen x=\"0\" y=\"0\" width=\"1810\" height=\"978\" />\r\n    </state>\r\n    <state x=\"740\" y=\"413\" key=\"NewPhpFileDialog/0.0.1810.978@0.0.1810.978\" timestamp=\"1605630147257\" />\r\n    <state x=\"498\" y=\"222\" key=\"Vcs.Push.Dialog.v2\" timestamp=\"1605619094828\">\r\n      <screen x=\"0\" y=\"0\" width=\"1810\" height=\"978\" />\r\n    </state>\r\n    <state x=\"498\" y=\"222\" key=\"Vcs.Push.Dialog.v2/0.0.1810.978@0.0.1810.978\" timestamp=\"1605619094828\" />\r\n    <state x=\"636\" y=\"220\" width=\"579\" height=\"534\" key=\"find.popup\" timestamp=\"1605638310307\">\r\n      <screen x=\"0\" y=\"0\" width=\"1810\" height=\"978\" />\r\n    </state>\r\n    <state x=\"636\" y=\"220\" width=\"579\" height=\"534\" key=\"find.popup/0.0.1810.978@0.0.1810.978\" timestamp=\"1605638310307\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/workspace.xml	(revision 41cd1271cd9a3fd6c26637641755ac40ab4c5dc9)
+++ .idea/workspace.xml	(date 1606815639624)
@@ -19,8 +19,12 @@
     <select />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="0a19b9ec-637a-429e-b38c-e8af6f257911" name="Default Changelist" comment="Все еще работает)">
+    <list default="true" id="0a19b9ec-637a-429e-b38c-e8af6f257911" name="Default Changelist" comment="Чудо свершилось дивизионы заработали">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/Http/Livewire/MainTable.php" beforeDir="false" afterPath="$PROJECT_DIR$/app/Http/Livewire/MainTable.php" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/database/migrations/2020_11_17_152850_create_documents_table.php" beforeDir="false" afterPath="$PROJECT_DIR$/database/migrations/2020_11_17_152850_create_documents_table.php" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/resources/views/modal/createDocument.blade.php" beforeDir="false" afterPath="$PROJECT_DIR$/resources/views/modal/createDocument.blade.php" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/resources/views/modal/createWorker.blade.php" beforeDir="false" afterPath="$PROJECT_DIR$/resources/views/modal/createWorker.blade.php" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -34,7 +38,7 @@
   <component name="Git.Settings">
     <option name="RECENT_BRANCH_BY_REPOSITORY">
       <map>
-        <entry key="$PROJECT_DIR$" value="Пакостю" />
+        <entry key="$PROJECT_DIR$" value="СоздаюАвтокомплит" />
       </map>
     </option>
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
@@ -181,9 +185,9 @@
     <property name="ASKED_ADD_EXTERNAL_FILES" value="true" />
     <property name="ASKED_SHARE_PROJECT_CONFIGURATION_FILES" value="true" />
     <property name="RunOnceActivity.OpenProjectViewOnStart" value="true" />
-    <property name="SHARE_PROJECT_CONFIGURATION_FILES" value="true" />
     <property name="WebServerToolWindowFactoryState" value="false" />
     <property name="last_opened_file_path" value="$PROJECT_DIR$" />
+    <property name="settings.editor.selected.configurable" value="preferences.keymap" />
     <property name="vue.rearranger.settings.migration" value="true" />
   </component>
   <component name="RunManager">
@@ -201,7 +205,9 @@
       <option name="presentableId" value="Default" />
       <updated>1605617196805</updated>
       <workItem from="1605617197869" duration="20441000" />
-      <workItem from="1606134348357" duration="11206000" />
+      <workItem from="1606134348357" duration="23040000" />
+      <workItem from="1606732843557" duration="1201000" />
+      <workItem from="1606758280793" duration="1430000" />
     </task>
     <task id="LOCAL-00001" summary="Добавил аутентификацию и применил миграции от нее">
       <created>1605619091224</created>
@@ -245,7 +251,21 @@
       <option name="project" value="LOCAL" />
       <updated>1606144416278</updated>
     </task>
-    <option name="localTasksCounter" value="7" />
+    <task id="LOCAL-00007" summary="Все еще работает)">
+      <created>1606147919957</created>
+      <option name="number" value="00007" />
+      <option name="presentableId" value="LOCAL-00007" />
+      <option name="project" value="LOCAL" />
+      <updated>1606147919957</updated>
+    </task>
+    <task id="LOCAL-00008" summary="Чудо свершилось дивизионы заработали">
+      <created>1606159131806</created>
+      <option name="number" value="00008" />
+      <option name="presentableId" value="LOCAL-00008" />
+      <option name="project" value="LOCAL" />
+      <updated>1606159131806</updated>
+    </task>
+    <option name="localTasksCounter" value="9" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -261,6 +281,7 @@
         </entry>
       </map>
     </option>
+    <option name="oldMeFiltersMigrated" value="true" />
   </component>
   <component name="VcsManagerConfiguration">
     <option name="ADD_EXTERNAL_FILES_SILENTLY" value="true" />
@@ -269,7 +290,8 @@
     <MESSAGE value="Сделал добавление дивизионов начинаю добавление документов" />
     <MESSAGE value="Создал заполнялку для доков начинаю тестировать выпадающую меню для дивизионов" />
     <MESSAGE value="Все еще работает)" />
-    <option name="LAST_COMMIT_MESSAGE" value="Все еще работает)" />
+    <MESSAGE value="Чудо свершилось дивизионы заработали" />
+    <option name="LAST_COMMIT_MESSAGE" value="Чудо свершилось дивизионы заработали" />
   </component>
   <component name="WindowStateProjectService">
     <state x="636" y="236" key="#com.intellij.refactoring.safeDelete.UnsafeUsagesDialog" timestamp="1606140409154">
@@ -288,6 +310,10 @@
       <screen x="0" y="0" width="1810" height="978" />
     </state>
     <state x="740" y="413" key="NewPhpFileDialog/0.0.1810.978@0.0.1810.978" timestamp="1605630147257" />
+    <state x="407" y="134" key="SettingsEditor" timestamp="1606758702368">
+      <screen x="0" y="0" width="1810" height="978" />
+    </state>
+    <state x="407" y="134" key="SettingsEditor/0.0.1810.978@0.0.1810.978" timestamp="1606758702368" />
     <state x="498" y="222" key="Vcs.Push.Dialog.v2" timestamp="1605619094828">
       <screen x="0" y="0" width="1810" height="978" />
     </state>
@@ -297,4 +323,4 @@
     </state>
     <state x="636" y="220" width="579" height="534" key="find.popup/0.0.1810.978@0.0.1810.978" timestamp="1605638310307" />
   </component>
-</project>
\ No newline at end of file
+</project>
Index: resources/views/modal/createDocument.blade.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#documentModal\">\r\n    Добавить документ\r\n</button>\r\n\r\n<!-- Modal -->\r\n<div wire:ignore.self class=\"modal fade\" id=\"documentModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"documentModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"documentModalLabel\">Добавление документа</h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true close-btn\">×</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <form>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"document_name\">Название</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"document_name\" placeholder=\"Название\" wire:model=\"document_name\">\r\n                        @error('document_name') <span class=\"text-danger error\">{{ $message }}</span>@enderror\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"document_number\">Номер</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"document_number\" wire:model=\"document_number\" placeholder=\"Номер\">\r\n                        @error('document_number') <span class=\"text-danger error\">{{ $message }}</span>@enderror\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"document_area\">Действие</label>\r\n                        <input  type=\"text\" class=\"form-control\" id=\"document_area\" wire:model=\"document_area\" placeholder=\"На кого распространяется\">\r\n                        @error('document_area') <span class=\"text-danger error\">{{ $message }}</span>@enderror\r\n\r\n                    </div>\r\n\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"document_responsible_id\">Ответственные</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"document_responsible_id\" wire:model=\"document_responsible_id\" placeholder=\"Ответственные через запятую\">\r\n                        @error('document_responsible_id') <span class=\"text-danger error\">{{ $message }}</span>@enderror\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"document_signer_id\">Подписчик</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"document_signer_id\" wire:model=\"document_signer_id\" placeholder=\"Подписанты\">\r\n                        @error('document_signer_id') <span class=\"text-danger error\">{{ $message }}</span>@enderror\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"document_date_signing\">Дата подписания</label>\r\n                        <input type=\"date\" class=\"form-control\" id=\"document_date_signing\" wire:model=\"document_date_signing\" placeholder=\"Дата подписания\">\r\n                        @error('document_date_signing') <span class=\"text-danger error\">{{ $message }}</span>@enderror\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"document_date_expired\">Дата окончания действия</label>\r\n                        <input type=\"date\" class=\"form-control\" id=\"document_date_expired\" wire:model=\"document_date_expired\" placeholder=\"Дата окончания действия\">\r\n                        @error('document_date_expired') <span class=\"text-danger error\">{{ $message }}</span>@enderror\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"document_tags\">Тэги</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"document_tags\" wire:model=\"document_tags\" placeholder=\"Тэги через запятую\">\r\n                        @error('document_tags') <span class=\"text-danger error\">{{ $message }}</span>@enderror\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"document_data\">Файлы</label>\r\n                        <input  type=\"file\" multiple=\"multiple\" class=\"form-control\" id=\"document_tags\" wire:model=\"document_data\" placeholder=\"Выберите файлы\">\r\n                        @error('document_data') <span class=\"text-danger error\">{{ $message }}</span>@enderror\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <button type=\"button\" class=\"btn btn-secondary close-btn\" data-dismiss=\"modal\">Закрыть</button>\r\n                <button type=\"button\" wire:click.prevent=\"storeDocument()\" class=\"btn btn-primary close-modal\">Добавить</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- resources/views/modal/createDocument.blade.php	(revision 41cd1271cd9a3fd6c26637641755ac40ab4c5dc9)
+++ resources/views/modal/createDocument.blade.php	(date 1606815642303)
@@ -25,8 +25,18 @@
                         @error('document_number') <span class="text-danger error">{{ $message }}</span>@enderror
                     </div>
                     <div class="form-group">
+                        <label for="document_type">Тип документа</label>
+                        <input type="text" class="form-control" id="document_type" wire:model="document_type" placeholder="Тип документа">
+                        @error('document_type') <span class="text-danger error">{{ $message }}</span>@enderror
+                    </div>
+                    <div class="form-group">
                         <label for="document_area">Действие</label>
-                        <input  type="text" class="form-control" id="document_area" wire:model="document_area" placeholder="На кого распространяется">
+                        <input autocomplete="off" list="devisionsList1" type="text" class="form-control" id="document_area" wire:model.lazy="document_area" placeholder="На кого распространяется">
+                        <datalist id="devisionsList1">
+                            @foreach($divisions as $division)
+                                <option value="{{$division['division_name']}}"></option>
+                            @endforeach
+                        </datalist>
                         @error('document_area') <span class="text-danger error">{{ $message }}</span>@enderror
 
                     </div>
@@ -34,12 +44,22 @@
 
                     <div class="form-group">
                         <label for="document_responsible_id">Ответственные</label>
-                        <input type="text" class="form-control" id="document_responsible_id" wire:model="document_responsible_id" placeholder="Ответственные через запятую">
+                        <input autocomplete="off" list="workerList1" type="text" class="form-control" id="document_responsible_id" wire:model.lazy="document_responsible_id" placeholder="Ответственные через запятую">
+                        <datalist id="workerList1">
+                            @foreach($workers as $worker)
+                                <option value="{{$worker['worker_surname'].' '.$worker['worker_name'].' '.$worker['worker_patronymic'].' '.$worker['worker_position']}}"></option>
+                            @endforeach
+                        </datalist>
                         @error('document_responsible_id') <span class="text-danger error">{{ $message }}</span>@enderror
                     </div>
                     <div class="form-group">
                         <label for="document_signer_id">Подписчик</label>
-                        <input type="text" class="form-control" id="document_signer_id" wire:model="document_signer_id" placeholder="Подписанты">
+                        <input autocomplete="off" list="workerList2" type="text" class="form-control" id="document_signer_id" wire:model.lazy="document_signer_id" placeholder="Подписанты">
+                        <datalist id="workerList2">
+                            @foreach($workers as $worker)
+                                <option value="{{$worker['worker_surname']}}"></option>
+                            @endforeach
+                        </datalist>
                         @error('document_signer_id') <span class="text-danger error">{{ $message }}</span>@enderror
                     </div>
                     <div class="form-group">
@@ -59,7 +79,7 @@
                     </div>
                     <div class="form-group">
                         <label for="document_data">Файлы</label>
-                        <input  type="file" multiple="multiple" class="form-control" id="document_tags" wire:model="document_data" placeholder="Выберите файлы">
+                        <input  type="file" multiple="multiple" class="form-control" id="document_data" wire:model="document_data" placeholder="Выберите файлы">
                         @error('document_data') <span class="text-danger error">{{ $message }}</span>@enderror
                     </div>
 
